import{S as ht,i as bt,s as kt,e as S,k as L,t as N,c as w,a as O,d as f,m as A,h as g,b as d,g as T,M as c,av as st,N as F,j as R,H as rt,f as q,O as j,F as at,P as Et,v as Tt,a0 as U}from"../chunks/index-d85b3eb2.js";import{g as yt}from"../chunks/navigation-0e6511d1.js";import{an as nt,c as ft,a7 as ut,a8 as mt,ao as ct,W as lt,F as K,t as Q}from"../chunks/index-f65b0542.js";import{c as St}from"../chunks/share-cab31a84.js";import{b as pt}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/preload-helper-911a8840.js";function it(e){let t,a,i=e[4]("main.stats.import_info_1")+"",l,o,m=e[4]("main.stats.import_info_2")+"",b,p,_,E=e[4]("main.stats.import_info_3")+"",P,n,u,h,C,x,I,B,D,H;function W(s,r){return s[0]?s[3]?Ot:wt:Pt}let M=W(e),y=M(e);return{c(){t=S("div"),a=S("p"),l=L(),o=S("p"),b=N(m),p=L(),_=S("p"),P=L(),n=S("label"),y.c(),u=L(),h=S("textarea"),C=L(),x=S("button"),I=N("Import"),this.h()},l(s){t=w(s,"DIV",{class:!0});var r=O(t);a=w(r,"P",{class:!0});var k=O(a);k.forEach(f),l=A(r),o=w(r,"P",{class:!0});var v=O(o);b=g(v,m),v.forEach(f),p=A(r),_=w(r,"P",{class:!0});var J=O(_);J.forEach(f),r.forEach(f),P=A(s),n=w(s,"LABEL",{for:!0,class:!0});var V=O(n);y.l(V),V.forEach(f),u=A(s),h=w(s,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),O(h).forEach(f),C=A(s),x=w(s,"BUTTON",{class:!0});var z=O(x);I=g(z,"Import"),z.forEach(f),this.h()},h(){d(a,"class","svelte-18ehvcx"),d(o,"class","svelte-18ehvcx"),d(_,"class","svelte-18ehvcx"),d(t,"class","info svelte-18ehvcx"),d(n,"for","import_text"),d(n,"class","svelte-18ehvcx"),d(h,"id","import_text"),d(h,"name","import_text"),d(h,"rows","4"),d(h,"class","svelte-18ehvcx"),d(x,"class","import-button svelte-18ehvcx"),x.disabled=B=!e[3]},m(s,r){T(s,t,r),c(t,a),a.innerHTML=i,c(t,l),c(t,o),c(o,b),c(t,p),c(t,_),_.innerHTML=E,T(s,P,r),T(s,n,r),y.m(n,null),T(s,u,r),T(s,h,r),st(h,e[0]),T(s,C,r),T(s,x,r),c(x,I),D||(H=[F(h,"input",e[8]),F(x,"click",e[9])],D=!0)},p(s,r){r&16&&i!==(i=s[4]("main.stats.import_info_1")+"")&&(a.innerHTML=i),r&16&&m!==(m=s[4]("main.stats.import_info_2")+"")&&R(b,m),r&16&&E!==(E=s[4]("main.stats.import_info_3")+"")&&(_.innerHTML=E),M===(M=W(s))&&y?y.p(s,r):(y.d(1),y=M(s),y&&(y.c(),y.m(n,null))),r&1&&st(h,s[0]),r&8&&B!==(B=!s[3])&&(x.disabled=B)},d(s){s&&f(t),s&&f(P),s&&f(n),y.d(),s&&f(u),s&&f(h),s&&f(C),s&&f(x),D=!1,rt(H)}}}function wt(e){let t,a=e[4]("main.stats.invalid_stats")+"",i;return{c(){t=N("\u274C "),i=N(a)},l(l){t=g(l,"\u274C "),i=g(l,a)},m(l,o){T(l,t,o),T(l,i,o)},p(l,o){o&16&&a!==(a=l[4]("main.stats.invalid_stats")+"")&&R(i,a)},d(l){l&&f(t),l&&f(i)}}}function Ot(e){let t,a=e[4]("main.stats.ready_to_import")+"",i;return{c(){t=N("\u2705 "),i=N(a)},l(l){t=g(l,"\u2705 "),i=g(l,a)},m(l,o){T(l,t,o),T(l,i,o)},p(l,o){o&16&&a!==(a=l[4]("main.stats.ready_to_import")+"")&&R(i,a)},d(l){l&&f(t),l&&f(i)}}}function Pt(e){let t=e[4]("main.stats.paste_your_stats")+"",a;return{c(){a=N(t)},l(i){a=g(i,t)},m(i,l){T(i,a,l)},p(i,l){l&16&&t!==(t=i[4]("main.stats.paste_your_stats")+"")&&R(a,t)},d(i){i&&f(a)}}}function ot(e){let t,a=e[4]("main.stats.export_instructions")+"",i,l,o,m,b,p,_,E,P;return{c(){t=S("label"),i=N(a),l=N(":"),o=L(),m=S("textarea"),b=L(),p=S("button"),_=N("Copy"),this.h()},l(n){t=w(n,"LABEL",{for:!0,class:!0});var u=O(t);i=g(u,a),l=g(u,":"),u.forEach(f),o=A(n),m=w(n,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),O(m).forEach(f),b=A(n),p=w(n,"BUTTON",{class:!0});var h=O(p);_=g(h,"Copy"),h.forEach(f),this.h()},h(){d(t,"for","export_text"),d(t,"class","svelte-18ehvcx"),d(m,"id","export_text"),d(m,"name","export_text"),d(m,"rows","4"),m.value=e[2],m.readOnly=!0,d(m,"class","svelte-18ehvcx"),d(p,"class","svelte-18ehvcx"),q(p,"align-self","flex-start")},m(n,u){T(n,t,u),c(t,i),c(t,l),T(n,o,u),T(n,m,u),T(n,b,u),T(n,p,u),c(p,_),E||(P=F(p,"click",e[5]),E=!0)},p(n,u){u&16&&a!==(a=n[4]("main.stats.export_instructions")+"")&&R(i,a),u&4&&(m.value=n[2])},d(n){n&&f(t),n&&f(o),n&&f(m),n&&f(b),n&&f(p),E=!1,P()}}}function xt(e){let t,a,i,l,o,m,b,p,_,E=e[4]("main.stats.import_stats")+"",P,n,u,h=e[4]("main.stats.export_stats")+"",C,x,I,B,D,H=e[4]("main.other.back")+"",W,M,y,s=e[1]==="import"&&it(e),r=e[1]==="export"&&ot(e);return{c(){t=S("section"),a=S("h1"),i=N("Word Peaks"),l=L(),o=S("p"),m=N("Back up and restore your Word Peaks stats"),b=L(),p=S("div"),_=S("button"),P=N(E),n=L(),u=S("button"),C=N(h),x=L(),s&&s.c(),I=L(),r&&r.c(),B=L(),D=S("a"),W=N(H),this.h()},l(k){t=w(k,"SECTION",{class:!0});var v=O(t);a=w(v,"H1",{});var J=O(a);i=g(J,"Word Peaks"),J.forEach(f),l=A(v),o=w(v,"P",{class:!0});var V=O(o);m=g(V,"Back up and restore your Word Peaks stats"),V.forEach(f),b=A(v),p=w(v,"DIV",{class:!0});var z=O(p);_=w(z,"BUTTON",{class:!0});var $=O(_);P=g($,E),$.forEach(f),n=A(z),u=w(z,"BUTTON",{class:!0});var tt=O(u);C=g(tt,h),tt.forEach(f),z.forEach(f),x=A(v),s&&s.l(v),I=A(v),r&&r.l(v),B=A(v),D=w(v,"A",{href:!0});var et=O(D);W=g(et,H),et.forEach(f),v.forEach(f),this.h()},h(){d(o,"class","svelte-18ehvcx"),q(o,"margin-bottom","1.5rem"),d(_,"class","svelte-18ehvcx"),j(_,"active",e[1]==="import"),d(u,"class","svelte-18ehvcx"),j(u,"active",e[1]==="export"),d(p,"class","mode-buttons svelte-18ehvcx"),d(D,"href",pt+"/"),q(D,"margin-top","3rem"),q(D,"text-align","center"),d(t,"class","svelte-18ehvcx")},m(k,v){T(k,t,v),c(t,a),c(a,i),c(t,l),c(t,o),c(o,m),c(t,b),c(t,p),c(p,_),c(_,P),c(p,n),c(p,u),c(u,C),c(t,x),s&&s.m(t,null),c(t,I),r&&r.m(t,null),c(t,B),c(t,D),c(D,W),M||(y=[F(_,"click",e[6]),F(u,"click",e[7])],M=!0)},p(k,[v]){v&16&&E!==(E=k[4]("main.stats.import_stats")+"")&&R(P,E),v&2&&j(_,"active",k[1]==="import"),v&16&&h!==(h=k[4]("main.stats.export_stats")+"")&&R(C,h),v&2&&j(u,"active",k[1]==="export"),k[1]==="import"?s?s.p(k,v):(s=it(k),s.c(),s.m(t,I)):s&&(s.d(1),s=null),k[1]==="export"?r?r.p(k,v):(r=ot(k),r.c(),r.m(t,B)):r&&(r.d(1),r=null),v&16&&H!==(H=k[4]("main.other.back")+"")&&R(W,H)},i:at,o:at,d(k){k&&f(t),s&&s.d(),r&&r.d(),M=!1,rt(y)}}}const Y={theme:{"--toastBackground":"var(--cta-color)"}},G=e=>typeof e=="number"&&e>=0,X=e=>e instanceof Array&&e.every(G);function Dt(e){if(!e)return!1;try{const[t,a,i,l,o]=JSON.parse(e);if(t!==nt)throw"bad-version";if(!G(a))throw"invalid-last-daily";const[m,b,p,_,E]=i;if(!G(m)||!G(b)||!G(p)||!G(_)||!X(E))throw"invalid-stats";const[P,n,u,h]=l;if(!G(P)||!X(n)||!X(u)||!G(h))throw"invalid-time-stats";if(o){const[C,x,I,B,D,H,W,M]=o;if(C!=="daily"||!G(x)||typeof I!="boolean"||typeof B!="string"||B.length!==lt||!(D instanceof Array)||D.some(y=>typeof y!="string"||y.length!==lt)||!X(H)||W!==null||typeof M!="boolean")throw"invalid-daily-detail"}}catch(t){return console.warn(t),!1}return!0}const _t=["currentStreak","bestStreak","totalGames","wonGames","distribution"],Nt=e=>_t.map(t=>e[t]),vt=["gameCount","guessTotals","guessCounts","fastestGame"],gt=e=>vt.map(t=>e[t]),dt=["mode","dayNumber","hardMode","answer","guesses","guessTimes","hash","fastest"],Lt=e=>e===null?null:dt.map(t=>e[t]),Z=(e,t)=>Object.fromEntries(e.map((a,i)=>[t[i],a]));function At(){return JSON.stringify([nt,U(ft),Nt(U(ut)),gt(U(mt)),Lt(U(ct))])}function Bt(e){const[t,a,i,l,o]=JSON.parse(e);ft.set(a),ut.set(Z(i,_t)),mt.set(Z(l,vt)),o!==null&&ct.set(Z(o,dt)),Q.push(U(K)("main.messages.stats_imported"),Y),yt(`${pt}/`)}function Ct(e,t,a){let i,l;Et(e,K,u=>a(4,l=u));let o=null,m,b="";function p(){Q.push(U(K)("main.messages.stats_copied"),Y),St(b).then(()=>Q.push("Stats copied!",Y),()=>Q.push(U(K)("main.messages.could_not_do"),Y))}Tt(()=>a(2,b=At()));const _=()=>a(1,o=o==="import"?null:"import"),E=()=>a(1,o=o==="export"?null:"export");function P(){m=this.value,a(0,m)}const n=()=>Bt(m);return e.$$.update=()=>{e.$$.dirty&1&&a(3,i=Dt(m))},[m,o,b,i,l,p,_,E,P,n]}class Ut extends ht{constructor(t){super(),bt(this,t,Ct,xt,kt,{})}}export{Ut as default};
