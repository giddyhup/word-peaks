import{S as bt,i as Et,s as kt,e as w,k as x,t as P,c as O,a as D,d as f,m as B,h as g,b as v,g as y,M as m,av as at,N as J,j as G,H as nt,f as K,O as X,F as lt,P as Tt,v as yt,a0 as W}from"../chunks/index-d85b3eb2.js";import{g as St}from"../chunks/navigation-0e6511d1.js";import{ao as ft,c as ut,a7 as _t,a8 as mt,ap as pt,W as it,F as Q,t as Y}from"../chunks/index-e265d4b3.js";import{c as wt}from"../chunks/share-a4faf34f.js";import{b as ct}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/preload-helper-911a8840.js";function ot(e){let t,a,i=e[4]("main.stats.import_info_1")+"",l,o,_=e[4]("main.stats.import_info_2")+"",E,d,p,h=e[4]("main.stats.import_info_3")+"",T,b,u,n,N,S,C=e[4]("main.stats.import")+"",H,M,L,R;function z(s,r){return s[0]?s[3]?Dt:Ot:Nt}let I=z(e),A=I(e);return{c(){t=w("div"),a=w("p"),l=x(),o=w("p"),E=P(_),d=x(),p=w("p"),T=x(),b=w("label"),A.c(),u=x(),n=w("textarea"),N=x(),S=w("button"),H=P(C),this.h()},l(s){t=O(s,"DIV",{class:!0});var r=D(t);a=O(r,"P",{class:!0});var k=D(a);k.forEach(f),l=B(r),o=O(r,"P",{class:!0});var c=D(o);E=g(c,_),c.forEach(f),d=B(r),p=O(r,"P",{class:!0});var j=D(p);j.forEach(f),r.forEach(f),T=B(s),b=O(s,"LABEL",{for:!0,class:!0});var F=D(b);A.l(F),F.forEach(f),u=B(s),n=O(s,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),D(n).forEach(f),N=B(s),S=O(s,"BUTTON",{class:!0});var V=D(S);H=g(V,C),V.forEach(f),this.h()},h(){v(a,"class","svelte-18ehvcx"),v(o,"class","svelte-18ehvcx"),v(p,"class","svelte-18ehvcx"),v(t,"class","info svelte-18ehvcx"),v(b,"for","import_text"),v(b,"class","svelte-18ehvcx"),v(n,"id","import_text"),v(n,"name","import_text"),v(n,"rows","4"),v(n,"class","svelte-18ehvcx"),v(S,"class","import-button svelte-18ehvcx"),S.disabled=M=!e[3]},m(s,r){y(s,t,r),m(t,a),a.innerHTML=i,m(t,l),m(t,o),m(o,E),m(t,d),m(t,p),p.innerHTML=h,y(s,T,r),y(s,b,r),A.m(b,null),y(s,u,r),y(s,n,r),at(n,e[0]),y(s,N,r),y(s,S,r),m(S,H),L||(R=[J(n,"input",e[8]),J(S,"click",e[9])],L=!0)},p(s,r){r&16&&i!==(i=s[4]("main.stats.import_info_1")+"")&&(a.innerHTML=i),r&16&&_!==(_=s[4]("main.stats.import_info_2")+"")&&G(E,_),r&16&&h!==(h=s[4]("main.stats.import_info_3")+"")&&(p.innerHTML=h),I===(I=z(s))&&A?A.p(s,r):(A.d(1),A=I(s),A&&(A.c(),A.m(b,null))),r&1&&at(n,s[0]),r&16&&C!==(C=s[4]("main.stats.import")+"")&&G(H,C),r&8&&M!==(M=!s[3])&&(S.disabled=M)},d(s){s&&f(t),s&&f(T),s&&f(b),A.d(),s&&f(u),s&&f(n),s&&f(N),s&&f(S),L=!1,nt(R)}}}function Ot(e){let t,a=e[4]("main.stats.invalid_stats")+"",i;return{c(){t=P("\u274C "),i=P(a)},l(l){t=g(l,"\u274C "),i=g(l,a)},m(l,o){y(l,t,o),y(l,i,o)},p(l,o){o&16&&a!==(a=l[4]("main.stats.invalid_stats")+"")&&G(i,a)},d(l){l&&f(t),l&&f(i)}}}function Dt(e){let t,a=e[4]("main.stats.ready_to_import")+"",i;return{c(){t=P("\u2705 "),i=P(a)},l(l){t=g(l,"\u2705 "),i=g(l,a)},m(l,o){y(l,t,o),y(l,i,o)},p(l,o){o&16&&a!==(a=l[4]("main.stats.ready_to_import")+"")&&G(i,a)},d(l){l&&f(t),l&&f(i)}}}function Nt(e){let t=e[4]("main.stats.paste_your_stats")+"",a;return{c(){a=P(t)},l(i){a=g(i,t)},m(i,l){y(i,a,l)},p(i,l){l&16&&t!==(t=i[4]("main.stats.paste_your_stats")+"")&&G(a,t)},d(i){i&&f(a)}}}function rt(e){let t,a=e[4]("main.stats.export_instructions")+"",i,l,o,_,E,d,p=e[4]("main.stats.copy")+"",h,T,b;return{c(){t=w("label"),i=P(a),l=P(":"),o=x(),_=w("textarea"),E=x(),d=w("button"),h=P(p),this.h()},l(u){t=O(u,"LABEL",{for:!0,class:!0});var n=D(t);i=g(n,a),l=g(n,":"),n.forEach(f),o=B(u),_=O(u,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),D(_).forEach(f),E=B(u),d=O(u,"BUTTON",{class:!0});var N=D(d);h=g(N,p),N.forEach(f),this.h()},h(){v(t,"for","export_text"),v(t,"class","svelte-18ehvcx"),v(_,"id","export_text"),v(_,"name","export_text"),v(_,"rows","4"),_.value=e[2],_.readOnly=!0,v(_,"class","svelte-18ehvcx"),v(d,"class","svelte-18ehvcx"),K(d,"align-self","flex-start")},m(u,n){y(u,t,n),m(t,i),m(t,l),y(u,o,n),y(u,_,n),y(u,E,n),y(u,d,n),m(d,h),T||(b=J(d,"click",e[5]),T=!0)},p(u,n){n&16&&a!==(a=u[4]("main.stats.export_instructions")+"")&&G(i,a),n&4&&(_.value=u[2]),n&16&&p!==(p=u[4]("main.stats.copy")+"")&&G(h,p)},d(u){u&&f(t),u&&f(o),u&&f(_),u&&f(E),u&&f(d),T=!1,b()}}}function Pt(e){let t,a,i,l,o,_=e[4]("main.stats.back_up_and_restore_your_stats")+"",E,d,p,h,T=e[4]("main.stats.import_stats")+"",b,u,n,N=e[4]("main.stats.export_stats")+"",S,C,H,M,L,R=e[4]("main.other.back")+"",z,I,A,s=e[1]==="import"&&ot(e),r=e[1]==="export"&&rt(e);return{c(){t=w("section"),a=w("h1"),i=P("Word Peaks"),l=x(),o=w("p"),E=P(_),d=x(),p=w("div"),h=w("button"),b=P(T),u=x(),n=w("button"),S=P(N),C=x(),s&&s.c(),H=x(),r&&r.c(),M=x(),L=w("a"),z=P(R),this.h()},l(k){t=O(k,"SECTION",{class:!0});var c=D(t);a=O(c,"H1",{});var j=D(a);i=g(j,"Word Peaks"),j.forEach(f),l=B(c),o=O(c,"P",{class:!0});var F=D(o);E=g(F,_),F.forEach(f),d=B(c),p=O(c,"DIV",{class:!0});var V=D(p);h=O(V,"BUTTON",{class:!0});var tt=D(h);b=g(tt,T),tt.forEach(f),u=B(V),n=O(V,"BUTTON",{class:!0});var et=D(n);S=g(et,N),et.forEach(f),V.forEach(f),C=B(c),s&&s.l(c),H=B(c),r&&r.l(c),M=B(c),L=O(c,"A",{href:!0});var st=D(L);z=g(st,R),st.forEach(f),c.forEach(f),this.h()},h(){v(o,"class","svelte-18ehvcx"),K(o,"margin-bottom","1.5rem"),v(h,"class","svelte-18ehvcx"),X(h,"active",e[1]==="import"),v(n,"class","svelte-18ehvcx"),X(n,"active",e[1]==="export"),v(p,"class","mode-buttons svelte-18ehvcx"),v(L,"href",ct+"/"),K(L,"margin-top","3rem"),K(L,"text-align","center"),v(t,"class","svelte-18ehvcx")},m(k,c){y(k,t,c),m(t,a),m(a,i),m(t,l),m(t,o),m(o,E),m(t,d),m(t,p),m(p,h),m(h,b),m(p,u),m(p,n),m(n,S),m(t,C),s&&s.m(t,null),m(t,H),r&&r.m(t,null),m(t,M),m(t,L),m(L,z),I||(A=[J(h,"click",e[6]),J(n,"click",e[7])],I=!0)},p(k,[c]){c&16&&_!==(_=k[4]("main.stats.back_up_and_restore_your_stats")+"")&&G(E,_),c&16&&T!==(T=k[4]("main.stats.import_stats")+"")&&G(b,T),c&2&&X(h,"active",k[1]==="import"),c&16&&N!==(N=k[4]("main.stats.export_stats")+"")&&G(S,N),c&2&&X(n,"active",k[1]==="export"),k[1]==="import"?s?s.p(k,c):(s=ot(k),s.c(),s.m(t,H)):s&&(s.d(1),s=null),k[1]==="export"?r?r.p(k,c):(r=rt(k),r.c(),r.m(t,M)):r&&(r.d(1),r=null),c&16&&R!==(R=k[4]("main.other.back")+"")&&G(z,R)},i:lt,o:lt,d(k){k&&f(t),s&&s.d(),r&&r.d(),I=!1,nt(A)}}}const Z={theme:{"--toastBackground":"var(--cta-color)"}},U=e=>typeof e=="number"&&e>=0,q=e=>e instanceof Array&&e.every(U);function gt(e){if(!e)return!1;try{const[t,a,i,l,o]=JSON.parse(e);if(t!==ft)throw"bad-version";if(!U(a))throw"invalid-last-daily";const[_,E,d,p,h]=i;if(!U(_)||!U(E)||!U(d)||!U(p)||!q(h))throw"invalid-stats";const[T,b,u,n]=l;if(!U(T)||!q(b)||!q(u)||!U(n))throw"invalid-time-stats";if(o){const[N,S,C,H,M,L,R,z]=o;if(N!=="daily"||!U(S)||typeof C!="boolean"||typeof H!="string"||H.length!==it||!(M instanceof Array)||M.some(I=>typeof I!="string"||I.length!==it)||!q(L)||R!==null||typeof z!="boolean")throw"invalid-daily-detail"}}catch(t){return console.warn(t),!1}return!0}const vt=["currentStreak","bestStreak","totalGames","wonGames","distribution"],Lt=e=>vt.map(t=>e[t]),ht=["gameCount","guessTotals","guessCounts","fastestGame"],At=e=>ht.map(t=>e[t]),dt=["mode","dayNumber","hardMode","answer","guesses","guessTimes","hash","fastest"],xt=e=>e===null?null:dt.map(t=>e[t]),$=(e,t)=>Object.fromEntries(e.map((a,i)=>[t[i],a]));function Bt(){return JSON.stringify([ft,W(ut),Lt(W(_t)),At(W(mt)),xt(W(pt))])}function Ht(e){const[t,a,i,l,o]=JSON.parse(e);ut.set(a),_t.set($(i,vt)),mt.set($(l,ht)),o!==null&&pt.set($(o,dt)),Y.push(W(Q)("main.messages.stats_imported"),Z),St(`${ct}/`)}function Mt(e,t,a){let i,l;Tt(e,Q,u=>a(4,l=u));let o=null,_,E="";function d(){Y.push(W(Q)("main.messages.stats_copied"),Z),wt(E).then(()=>Y.push("Stats copied!",Z),()=>Y.push(W(Q)("main.messages.could_not_do"),Z))}yt(()=>a(2,E=Bt()));const p=()=>a(1,o=o==="import"?null:"import"),h=()=>a(1,o=o==="export"?null:"export");function T(){_=this.value,a(0,_)}const b=()=>Ht(_);return e.$$.update=()=>{e.$$.dirty&1&&a(3,i=gt(_))},[_,o,E,i,l,d,p,h,T,b]}class Wt extends bt{constructor(t){super(),Et(this,t,Mt,Pt,kt,{})}}export{Wt as default};
