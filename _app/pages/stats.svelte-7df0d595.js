import{S as _t,i as yt,s as bt,e as k,t as N,k as R,c as E,a as T,h as P,d as l,m as C,b as f,g as I,M as r,av as st,N as J,H as it,f as j,O as M,F as ot,v as xt,a0 as H}from"../chunks/index-d85b3eb2.js";import{g as kt}from"../chunks/navigation-0e6511d1.js";import{ak as nt,c as ct,a7 as ut,a8 as ft,al as pt,W as at,t as q,F as Et}from"../chunks/index-6d576b82.js";import{c as Tt}from"../chunks/share-12a77fe1.js";import{b as mt}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/preload-helper-911a8840.js";function lt(s){let t,e,n,i,c,p,g,y,b,a,u,S,G,A,w,B,m,W,O,V,d,h,x;function v(o,_){return o[0]?o[3]?St:gt:Ot}let z=v(s),D=z(s);return{c(){t=k("div"),e=k("p"),n=k("strong"),i=N("Warning:"),c=N(` Importing will OVERWRITE your existing stats on this device
				or browser.`),p=R(),g=k("p"),y=N(`If you have existing stats on this device that you want to keep, export them
				first.`),b=R(),a=k("p"),u=k("strong"),S=N("Note:"),G=N(` Only "stats" are imported, not your options (hard mode, keyboard
				layout, etc)`),A=R(),w=k("label"),D.c(),B=R(),m=k("textarea"),W=R(),O=k("button"),V=N("Import"),this.h()},l(o){t=E(o,"DIV",{class:!0});var _=T(t);e=E(_,"P",{class:!0});var U=T(e);n=E(U,"STRONG",{});var F=T(n);i=P(F,"Warning:"),F.forEach(l),c=P(U,` Importing will OVERWRITE your existing stats on this device
				or browser.`),U.forEach(l),p=C(_),g=E(_,"P",{class:!0});var Z=T(g);y=P(Z,`If you have existing stats on this device that you want to keep, export them
				first.`),Z.forEach(l),b=C(_),a=E(_,"P",{class:!0});var Q=T(a);u=E(Q,"STRONG",{});var $=T(u);S=P($,"Note:"),$.forEach(l),G=P(Q,` Only "stats" are imported, not your options (hard mode, keyboard
				layout, etc)`),Q.forEach(l),_.forEach(l),A=C(o),w=E(o,"LABEL",{for:!0,class:!0});var tt=T(w);D.l(tt),tt.forEach(l),B=C(o),m=E(o,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),T(m).forEach(l),W=C(o),O=E(o,"BUTTON",{class:!0});var et=T(O);V=P(et,"Import"),et.forEach(l),this.h()},h(){f(e,"class","svelte-18ehvcx"),f(g,"class","svelte-18ehvcx"),f(a,"class","svelte-18ehvcx"),f(t,"class","info svelte-18ehvcx"),f(w,"for","import_text"),f(w,"class","svelte-18ehvcx"),f(m,"id","import_text"),f(m,"name","import_text"),f(m,"rows","4"),f(m,"class","svelte-18ehvcx"),f(O,"class","import-button svelte-18ehvcx"),O.disabled=d=!s[3]},m(o,_){I(o,t,_),r(t,e),r(e,n),r(n,i),r(e,c),r(t,p),r(t,g),r(g,y),r(t,b),r(t,a),r(a,u),r(u,S),r(a,G),I(o,A,_),I(o,w,_),D.m(w,null),I(o,B,_),I(o,m,_),st(m,s[0]),I(o,W,_),I(o,O,_),r(O,V),h||(x=[J(m,"input",s[7]),J(O,"click",s[8])],h=!0)},p(o,_){z!==(z=v(o))&&(D.d(1),D=z(o),D&&(D.c(),D.m(w,null))),_&1&&st(m,o[0]),_&8&&d!==(d=!o[3])&&(O.disabled=d)},d(o){o&&l(t),o&&l(A),o&&l(w),D.d(),o&&l(B),o&&l(m),o&&l(W),o&&l(O),h=!1,it(x)}}}function gt(s){let t;return{c(){t=N("\u274C Invalid stats, check that you copied it correctly")},l(e){t=P(e,"\u274C Invalid stats, check that you copied it correctly")},m(e,n){I(e,t,n)},d(e){e&&l(t)}}}function St(s){let t;return{c(){t=N("\u2705 Ready to import!")},l(e){t=P(e,"\u2705 Ready to import!")},m(e,n){I(e,t,n)},d(e){e&&l(t)}}}function Ot(s){let t;return{c(){t=N("Paste your stats in this box")},l(e){t=P(e,"Paste your stats in this box")},m(e,n){I(e,t,n)},d(e){e&&l(t)}}}function rt(s){let t,e,n,i,c,p,g,y,b;return{c(){t=k("label"),e=N("Copy the full text from this box, or click the Copy button:"),n=R(),i=k("textarea"),c=R(),p=k("button"),g=N("Copy"),this.h()},l(a){t=E(a,"LABEL",{for:!0,class:!0});var u=T(t);e=P(u,"Copy the full text from this box, or click the Copy button:"),u.forEach(l),n=C(a),i=E(a,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),T(i).forEach(l),c=C(a),p=E(a,"BUTTON",{class:!0});var S=T(p);g=P(S,"Copy"),S.forEach(l),this.h()},h(){f(t,"for","export_text"),f(t,"class","svelte-18ehvcx"),f(i,"id","export_text"),f(i,"name","export_text"),f(i,"rows","4"),i.value=s[2],i.readOnly=!0,f(i,"class","svelte-18ehvcx"),f(p,"class","svelte-18ehvcx"),j(p,"align-self","flex-start")},m(a,u){I(a,t,u),r(t,e),I(a,n,u),I(a,i,u),I(a,c,u),I(a,p,u),r(p,g),y||(b=J(p,"click",s[4]),y=!0)},p(a,u){u&4&&(i.value=a[2])},d(a){a&&l(t),a&&l(n),a&&l(i),a&&l(c),a&&l(p),y=!1,b()}}}function wt(s){let t,e,n,i,c,p,g,y,b,a,u,S,G,A,w,B,m,W,O,V,d=s[1]==="import"&&lt(s),h=s[1]==="export"&&rt(s);return{c(){t=k("section"),e=k("h1"),n=N("Word Peaks"),i=R(),c=k("p"),p=N("Back up and restore your Word Peaks stats"),g=R(),y=k("div"),b=k("button"),a=N("Import Stats"),u=R(),S=k("button"),G=N("Export Stats"),A=R(),d&&d.c(),w=R(),h&&h.c(),B=R(),m=k("a"),W=N("Back"),this.h()},l(x){t=E(x,"SECTION",{class:!0});var v=T(t);e=E(v,"H1",{});var z=T(e);n=P(z,"Word Peaks"),z.forEach(l),i=C(v),c=E(v,"P",{class:!0});var D=T(c);p=P(D,"Back up and restore your Word Peaks stats"),D.forEach(l),g=C(v),y=E(v,"DIV",{class:!0});var o=T(y);b=E(o,"BUTTON",{class:!0});var _=T(b);a=P(_,"Import Stats"),_.forEach(l),u=C(o),S=E(o,"BUTTON",{class:!0});var U=T(S);G=P(U,"Export Stats"),U.forEach(l),o.forEach(l),A=C(v),d&&d.l(v),w=C(v),h&&h.l(v),B=C(v),m=E(v,"A",{href:!0});var F=T(m);W=P(F,"Back"),F.forEach(l),v.forEach(l),this.h()},h(){f(c,"class","svelte-18ehvcx"),j(c,"margin-bottom","1.5rem"),f(b,"class","svelte-18ehvcx"),M(b,"active",s[1]==="import"),f(S,"class","svelte-18ehvcx"),M(S,"active",s[1]==="export"),f(y,"class","mode-buttons svelte-18ehvcx"),f(m,"href",mt+"/"),j(m,"margin-top","3rem"),j(m,"text-align","center"),f(t,"class","svelte-18ehvcx")},m(x,v){I(x,t,v),r(t,e),r(e,n),r(t,i),r(t,c),r(c,p),r(t,g),r(t,y),r(y,b),r(b,a),r(y,u),r(y,S),r(S,G),r(t,A),d&&d.m(t,null),r(t,w),h&&h.m(t,null),r(t,B),r(t,m),r(m,W),O||(V=[J(b,"click",s[5]),J(S,"click",s[6])],O=!0)},p(x,[v]){v&2&&M(b,"active",x[1]==="import"),v&2&&M(S,"active",x[1]==="export"),x[1]==="import"?d?d.p(x,v):(d=lt(x),d.c(),d.m(t,w)):d&&(d.d(1),d=null),x[1]==="export"?h?h.p(x,v):(h=rt(x),h.c(),h.m(t,B)):h&&(h.d(1),h=null)},i:ot,o:ot,d(x){x&&l(t),d&&d.d(),h&&h.d(),O=!1,it(V)}}}const K={theme:{"--toastBackground":"var(--cta-color)"}},L=s=>typeof s=="number"&&s>=0,X=s=>s instanceof Array&&s.every(L);function It(s){if(!s)return!1;try{const[t,e,n,i,c]=JSON.parse(s);if(t!==nt)throw"bad-version";if(!L(e))throw"invalid-last-daily";const[p,g,y,b,a]=n;if(!L(p)||!L(g)||!L(y)||!L(b)||!X(a))throw"invalid-stats";const[u,S,G,A]=i;if(!L(u)||!X(S)||!X(G)||!L(A))throw"invalid-time-stats";if(c){const[w,B,m,W,O,V,d,h]=c;if(w!=="daily"||!L(B)||typeof m!="boolean"||typeof W!="string"||W.length!==at||!(O instanceof Array)||O.some(x=>typeof x!="string"||x.length!==at)||!X(V)||d!==null||typeof h!="boolean")throw"invalid-daily-detail"}}catch(t){return console.error(t),!1}return!0}const dt=["currentStreak","bestStreak","totalGames","wonGames","distribution"],Nt=s=>dt.map(t=>s[t]),ht=["gameCount","guessTotals","guessCounts","fastestGame"],Pt=s=>ht.map(t=>s[t]),vt=["mode","dayNumber","hardMode","answer","guesses","guessTimes","hash","fastest"],Rt=s=>s===null?null:vt.map(t=>s[t]),Y=(s,t)=>Object.fromEntries(s.map((e,n)=>[t[n],e]));function Ct(){return JSON.stringify([nt,H(ct),Nt(H(ut)),Pt(H(ft)),Rt(H(pt))])}function Dt(s){const[t,e,n,i,c]=JSON.parse(s);ct.set(e),ut.set(Y(n,dt)),ft.set(Y(i,ht)),c!==null&&pt.set(Y(c,vt)),q.push("Stats successfully imported!",K),kt(`${mt}/`)}function Bt(s,t,e){let n,i=null,c,p="";function g(){q.push("Stats copied!",K),Tt(p).then(()=>q.push("Stats copied!",K),()=>q.push(H(Et)("main.messages.could_not_do"),K))}xt(()=>e(2,p=Ct()));const y=()=>e(1,i=i==="import"?null:"import"),b=()=>e(1,i=i==="export"?null:"export");function a(){c=this.value,e(0,c)}const u=()=>Dt(c);return s.$$.update=()=>{s.$$.dirty&1&&e(3,n=It(c))},[c,i,p,n,g,y,b,a,u]}class Ft extends _t{constructor(t){super(),yt(this,t,Bt,wt,bt,{})}}export{Ft as default};
