import{S as bt,i as Et,s as kt,e as D,k as A,t as g,c as N,a as P,d as f,m as C,h as x,b as d,g as S,M as m,av as at,N as J,j as U,H as nt,f as K,O as X,F as lt,P as Tt,v as yt,a0 as V}from"../chunks/index-d85b3eb2.js";import{g as St}from"../chunks/navigation-0e6511d1.js";import{ao as ft,c as ut,a7 as _t,a8 as mt,ap as ct,W as it,F as Q,t as Y}from"../chunks/index-8762684f.js";import{c as wt}from"../chunks/share-a9b979fc.js";import{b as pt}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/preload-helper-911a8840.js";function ot(e){let t,s,l=e[4]("main.stats.import_info_1")+"",a,i,u=e[4]("main.stats.import_info_2")+"",k,b,v,h=e[4]("main.stats.import_info_3")+"",w,o,c,_,I,O,R,B,H,L;function G(n,r){return n[0]?n[3]?Dt:Ot:Nt}let M=G(e),T=M(e);return{c(){t=D("div"),s=D("p"),a=A(),i=D("p"),k=g(u),b=A(),v=D("p"),w=A(),o=D("label"),T.c(),c=A(),_=D("textarea"),I=A(),O=D("button"),R=g("Import"),this.h()},l(n){t=N(n,"DIV",{class:!0});var r=P(t);s=N(r,"P",{class:!0});var y=P(s);y.forEach(f),a=C(r),i=N(r,"P",{class:!0});var E=P(i);k=x(E,u),E.forEach(f),b=C(r),v=N(r,"P",{class:!0});var p=P(v);p.forEach(f),r.forEach(f),w=C(n),o=N(n,"LABEL",{for:!0,class:!0});var W=P(o);T.l(W),W.forEach(f),c=C(n),_=N(n,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),P(_).forEach(f),I=C(n),O=N(n,"BUTTON",{class:!0});var F=P(O);R=x(F,"Import"),F.forEach(f),this.h()},h(){d(s,"class","svelte-18ehvcx"),d(i,"class","svelte-18ehvcx"),d(v,"class","svelte-18ehvcx"),d(t,"class","info svelte-18ehvcx"),d(o,"for","import_text"),d(o,"class","svelte-18ehvcx"),d(_,"id","import_text"),d(_,"name","import_text"),d(_,"rows","4"),d(_,"class","svelte-18ehvcx"),d(O,"class","import-button svelte-18ehvcx"),O.disabled=B=!e[3]},m(n,r){S(n,t,r),m(t,s),s.innerHTML=l,m(t,a),m(t,i),m(i,k),m(t,b),m(t,v),v.innerHTML=h,S(n,w,r),S(n,o,r),T.m(o,null),S(n,c,r),S(n,_,r),at(_,e[0]),S(n,I,r),S(n,O,r),m(O,R),H||(L=[J(_,"input",e[8]),J(O,"click",e[9])],H=!0)},p(n,r){r&16&&l!==(l=n[4]("main.stats.import_info_1")+"")&&(s.innerHTML=l),r&16&&u!==(u=n[4]("main.stats.import_info_2")+"")&&U(k,u),r&16&&h!==(h=n[4]("main.stats.import_info_3")+"")&&(v.innerHTML=h),M===(M=G(n))&&T?T.p(n,r):(T.d(1),T=M(n),T&&(T.c(),T.m(o,null))),r&1&&at(_,n[0]),r&8&&B!==(B=!n[3])&&(O.disabled=B)},d(n){n&&f(t),n&&f(w),n&&f(o),T.d(),n&&f(c),n&&f(_),n&&f(I),n&&f(O),H=!1,nt(L)}}}function Ot(e){let t,s=e[4]("main.stats.invalid_stats")+"",l;return{c(){t=g("\u274C "),l=g(s)},l(a){t=x(a,"\u274C "),l=x(a,s)},m(a,i){S(a,t,i),S(a,l,i)},p(a,i){i&16&&s!==(s=a[4]("main.stats.invalid_stats")+"")&&U(l,s)},d(a){a&&f(t),a&&f(l)}}}function Dt(e){let t,s=e[4]("main.stats.ready_to_import")+"",l;return{c(){t=g("\u2705 "),l=g(s)},l(a){t=x(a,"\u2705 "),l=x(a,s)},m(a,i){S(a,t,i),S(a,l,i)},p(a,i){i&16&&s!==(s=a[4]("main.stats.ready_to_import")+"")&&U(l,s)},d(a){a&&f(t),a&&f(l)}}}function Nt(e){let t=e[4]("main.stats.paste_your_stats")+"",s;return{c(){s=g(t)},l(l){s=x(l,t)},m(l,a){S(l,s,a)},p(l,a){a&16&&t!==(t=l[4]("main.stats.paste_your_stats")+"")&&U(s,t)},d(l){l&&f(s)}}}function rt(e){let t,s=e[4]("main.stats.export_instructions")+"",l,a,i,u,k,b,v,h,w;return{c(){t=D("label"),l=g(s),a=g(":"),i=A(),u=D("textarea"),k=A(),b=D("button"),v=g("Copy"),this.h()},l(o){t=N(o,"LABEL",{for:!0,class:!0});var c=P(t);l=x(c,s),a=x(c,":"),c.forEach(f),i=C(o),u=N(o,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),P(u).forEach(f),k=C(o),b=N(o,"BUTTON",{class:!0});var _=P(b);v=x(_,"Copy"),_.forEach(f),this.h()},h(){d(t,"for","export_text"),d(t,"class","svelte-18ehvcx"),d(u,"id","export_text"),d(u,"name","export_text"),d(u,"rows","4"),u.value=e[2],u.readOnly=!0,d(u,"class","svelte-18ehvcx"),d(b,"class","svelte-18ehvcx"),K(b,"align-self","flex-start")},m(o,c){S(o,t,c),m(t,l),m(t,a),S(o,i,c),S(o,u,c),S(o,k,c),S(o,b,c),m(b,v),h||(w=J(b,"click",e[5]),h=!0)},p(o,c){c&16&&s!==(s=o[4]("main.stats.export_instructions")+"")&&U(l,s),c&4&&(u.value=o[2])},d(o){o&&f(t),o&&f(i),o&&f(u),o&&f(k),o&&f(b),h=!1,w()}}}function Pt(e){let t,s,l,a,i,u=e[4]("main.stats.back_up_and_restore_your_stats")+"",k,b,v,h,w=e[4]("main.stats.import_stats")+"",o,c,_,I=e[4]("main.stats.export_stats")+"",O,R,B,H,L,G=e[4]("main.other.back")+"",M,T,n,r=e[1]==="import"&&ot(e),y=e[1]==="export"&&rt(e);return{c(){t=D("section"),s=D("h1"),l=g("Word Peaks"),a=A(),i=D("p"),k=g(u),b=A(),v=D("div"),h=D("button"),o=g(w),c=A(),_=D("button"),O=g(I),R=A(),r&&r.c(),B=A(),y&&y.c(),H=A(),L=D("a"),M=g(G),this.h()},l(E){t=N(E,"SECTION",{class:!0});var p=P(t);s=N(p,"H1",{});var W=P(s);l=x(W,"Word Peaks"),W.forEach(f),a=C(p),i=N(p,"P",{class:!0});var F=P(i);k=x(F,u),F.forEach(f),b=C(p),v=N(p,"DIV",{class:!0});var j=P(v);h=N(j,"BUTTON",{class:!0});var tt=P(h);o=x(tt,w),tt.forEach(f),c=C(j),_=N(j,"BUTTON",{class:!0});var et=P(_);O=x(et,I),et.forEach(f),j.forEach(f),R=C(p),r&&r.l(p),B=C(p),y&&y.l(p),H=C(p),L=N(p,"A",{href:!0});var st=P(L);M=x(st,G),st.forEach(f),p.forEach(f),this.h()},h(){d(i,"class","svelte-18ehvcx"),K(i,"margin-bottom","1.5rem"),d(h,"class","svelte-18ehvcx"),X(h,"active",e[1]==="import"),d(_,"class","svelte-18ehvcx"),X(_,"active",e[1]==="export"),d(v,"class","mode-buttons svelte-18ehvcx"),d(L,"href",pt+"/"),K(L,"margin-top","3rem"),K(L,"text-align","center"),d(t,"class","svelte-18ehvcx")},m(E,p){S(E,t,p),m(t,s),m(s,l),m(t,a),m(t,i),m(i,k),m(t,b),m(t,v),m(v,h),m(h,o),m(v,c),m(v,_),m(_,O),m(t,R),r&&r.m(t,null),m(t,B),y&&y.m(t,null),m(t,H),m(t,L),m(L,M),T||(n=[J(h,"click",e[6]),J(_,"click",e[7])],T=!0)},p(E,[p]){p&16&&u!==(u=E[4]("main.stats.back_up_and_restore_your_stats")+"")&&U(k,u),p&16&&w!==(w=E[4]("main.stats.import_stats")+"")&&U(o,w),p&2&&X(h,"active",E[1]==="import"),p&16&&I!==(I=E[4]("main.stats.export_stats")+"")&&U(O,I),p&2&&X(_,"active",E[1]==="export"),E[1]==="import"?r?r.p(E,p):(r=ot(E),r.c(),r.m(t,B)):r&&(r.d(1),r=null),E[1]==="export"?y?y.p(E,p):(y=rt(E),y.c(),y.m(t,H)):y&&(y.d(1),y=null),p&16&&G!==(G=E[4]("main.other.back")+"")&&U(M,G)},i:lt,o:lt,d(E){E&&f(t),r&&r.d(),y&&y.d(),T=!1,nt(n)}}}const Z={theme:{"--toastBackground":"var(--cta-color)"}},z=e=>typeof e=="number"&&e>=0,q=e=>e instanceof Array&&e.every(z);function gt(e){if(!e)return!1;try{const[t,s,l,a,i]=JSON.parse(e);if(t!==ft)throw"bad-version";if(!z(s))throw"invalid-last-daily";const[u,k,b,v,h]=l;if(!z(u)||!z(k)||!z(b)||!z(v)||!q(h))throw"invalid-stats";const[w,o,c,_]=a;if(!z(w)||!q(o)||!q(c)||!z(_))throw"invalid-time-stats";if(i){const[I,O,R,B,H,L,G,M]=i;if(I!=="daily"||!z(O)||typeof R!="boolean"||typeof B!="string"||B.length!==it||!(H instanceof Array)||H.some(T=>typeof T!="string"||T.length!==it)||!q(L)||G!==null||typeof M!="boolean")throw"invalid-daily-detail"}}catch(t){return console.warn(t),!1}return!0}const vt=["currentStreak","bestStreak","totalGames","wonGames","distribution"],xt=e=>vt.map(t=>e[t]),dt=["gameCount","guessTotals","guessCounts","fastestGame"],Lt=e=>dt.map(t=>e[t]),ht=["mode","dayNumber","hardMode","answer","guesses","guessTimes","hash","fastest"],At=e=>e===null?null:ht.map(t=>e[t]),$=(e,t)=>Object.fromEntries(e.map((s,l)=>[t[l],s]));function Ct(){return JSON.stringify([ft,V(ut),xt(V(_t)),Lt(V(mt)),At(V(ct))])}function It(e){const[t,s,l,a,i]=JSON.parse(e);ut.set(s),_t.set($(l,vt)),mt.set($(a,dt)),i!==null&&ct.set($(i,ht)),Y.push(V(Q)("main.messages.stats_imported"),Z),St(`${pt}/`)}function Bt(e,t,s){let l,a;Tt(e,Q,c=>s(4,a=c));let i=null,u,k="";function b(){Y.push(V(Q)("main.messages.stats_copied"),Z),wt(k).then(()=>Y.push("Stats copied!",Z),()=>Y.push(V(Q)("main.messages.could_not_do"),Z))}yt(()=>s(2,k=Ct()));const v=()=>s(1,i=i==="import"?null:"import"),h=()=>s(1,i=i==="export"?null:"export");function w(){u=this.value,s(0,u)}const o=()=>It(u);return e.$$.update=()=>{e.$$.dirty&1&&s(3,l=gt(u))},[u,i,k,l,a,b,v,h,w,o]}class Wt extends bt{constructor(t){super(),Et(this,t,Bt,Pt,kt,{})}}export{Wt as default};
