import{F as b,s as y,G as w,H as S,I as $}from"./index-d85b3eb2.js";const a=[];function k(s,c){return{subscribe:q(s,c).subscribe}}function q(s,c=b){let o;const e=new Set;function i(r){if(y(s,r)&&(s=r,o)){const u=!a.length;for(const t of e)t[1](),a.push(t,s);if(u){for(let t=0;t<a.length;t+=2)a[t][0](a[t+1]);a.length=0}}}function f(r){i(r(s))}function n(r,u=b){const t=[r,u];return e.add(t),e.size===1&&(o=c(i)||b),r(s),()=>{e.delete(t),e.size===0&&o&&(o(),o=null)}}return{set:i,update:f,subscribe:n}}function z(s,c,o){const e=!Array.isArray(s),i=e?[s]:s,f=c.length<2;return k(o,n=>{let r=!1;const u=[];let t=0,d=b;const p=()=>{if(t)return;d();const l=c(e?u[0]:u,n);f?n(l):d=$(l)?l:b},_=i.map((l,h)=>w(l,g=>{u[h]=g,t&=~(1<<h),r&&p()},()=>{t|=1<<h}));return r=!0,p(),function(){S(_),d(),r=!1}})}const E="modulepreload",m={},C="/word-peaks/_app/",A=function(c,o){return!o||o.length===0?c():Promise.all(o.map(e=>{if(e=`${C}${e}`,e in m)return;m[e]=!0;const i=e.endsWith(".css"),f=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${f}`))return;const n=document.createElement("link");if(n.rel=i?"stylesheet":E,i||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),i)return new Promise((r,u)=>{n.addEventListener("load",r),n.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>c())};export{A as _,z as d,q as w};
