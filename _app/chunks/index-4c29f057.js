import{$ as r}from"./index-3a3d0142.js";import{w as g,_ as te,d as f}from"./preload-helper-b55195a1.js";var se=Object.freeze(Object.defineProperty({__proto__:null,get storeVersion(){return X},get storedLocale(){return Me},get openScreen(){return Ae},get highContrast(){return z},get showAllHints(){return j},get swapEnterBackspace(){return q},get keyboardLayout(){return B},get dyslexicFont(){return N},get allowDancing(){return I},get shareURL(){return K},get shareTimes(){return F},get preciseTimes(){return U},get lastPlayedDaily(){return V},get stats(){return C},get timeStats(){return R},get lastDailyDetail(){return _},get lastRandomDetail(){return M},get lastGameDetail(){return He},get newUser(){return Pe},get answerDaily(){return v},get answerRandom(){return W},get guessesDaily(){return G},get guessesRandom(){return A},get lastPlayedDailyWasHard(){return E},get lastPlayedRandomWasHard(){return L},get hardMode(){return Se},get changeHardMode(){return Ge},get gameMode(){return w},get lastPlayedWasHard(){return de},get invalidHardModeGuess(){return ke},get notEnoughLetters(){return We},get invalidWord(){return Ee},get invalidWordPreview(){return Le},get boardContent(){return J},get answer(){return T},get guesses(){return y},get updateGuesses(){return Ce},get guessTimesDaily(){return $},get guessTimesRandom(){return Q},get guessTimes(){return H},get currentRow(){return Y},get currentTile(){return ce},get gameWon(){return ge},get gameFinished(){return Z},get validLetters(){return _e},get initGameState(){return fe}},Symbol.toStringTag,{value:"Module"})),P={};function u(e,t){const s=typeof localStorage!="undefined";function l(a,n){!s||localStorage.setItem(a,JSON.stringify(n))}if(!P[e]){const a=g(t,i=>{const d=s?localStorage.getItem(e):null;if(d&&i(JSON.parse(d)),s){const h=p=>{p.key===e&&i(p.newValue?JSON.parse(p.newValue):null)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)}}),{subscribe:n,set:o}=a;P[e]={set(i){l(e,i),o(i)},update(i){const d=i(r(a));l(e,d),o(d)},subscribe:n}}return P[e]}const c=6,S=5;let b;async function ae(){b||(b=(await te(()=>import("./targets-filtered-ad800e36.js"),[])).default)}let k;async function me(){k||(k=(await te(()=>import("./dictionary-filtered-f84f8acf.js"),[])).default)}async function qe(e){return k||await me(),k.includes(e)}function ne(){const e=[];for(let t=0;t<c;t++){const s=[];e[t]=s;for(let l=0;l<S;l++)s.push({id:l,letter:"",scored:!1,distance:0,magnitude:0,polarity:0})}return e}function ye(e,t,s,l,a){const n=m.indexOf(e)-m.indexOf(t[l]),o=n===0?0:n>0?1:-1;let i=0;if(s===0)i=c;else{const d=a[s-1][l];d.polarity!==o?i=c:Math.abs(n)>Math.abs(d.distance)?i=d.magnitude+1:Math.abs(n)<Math.abs(d.distance)&&(i=d.magnitude-1);const h=a.find((p,we)=>we<s&&p[l].letter===e);h&&(i=h[l].magnitude)}return n===0&&(i=0),{id:l,scored:!0,distance:n,magnitude:i,polarity:o,letter:e}}function re(e,t,s){if(s===S)return new Set;const l=new Set(m);return m.forEach(a=>{if(!!l.has(a))for(let n=0;n<t;n++){const o=e[n][s];o.distance===0&&a!==o.letter&&l.delete(a),o.distance<0&&a<=o.letter&&l.delete(a),o.distance>0&&a>=o.letter&&l.delete(a)}}),l}function he(e){return e.map(t=>t.letter).join("")}function pe(e){return[m.find(t=>e.has(t)),[...m].reverse().find(t=>e.has(t))]}function Be(e,t){const s=he(e[t]);return!(s.length<S||s.includes(" "))}const oe=new Date(2022,1,25),Ne=()=>{let e=0;const t=new Date(oe),s=new Date;for(s.setHours(0,0,0,0);t<s;)e++,t.setDate(t.getDate()+1);return e};async function Ie(e){return await ae(),b[e%b.length]}const Ke=e=>{const t=new Date(oe);let s=new Date(t);return s.setDate(t.getDate()+e+1),s};function De(e){return e[Math.floor(Math.random()*e.length)]}async function Fe(){return await ae(),De(b)}function be(e){let t=0;for(const[s,l]of[...e].entries())t+=m.indexOf(l)<<s*5;return t.toString(36)}function Ue(e){if(!e)return!1;let t="";for(let s=0;s<S;s++)t+=m[(parseInt(e,36)&31<<s*5)>>s*5];return t.length===5&&t}const m="abcdefghijklmnopqrstuvwxyz".split(""),ve=["alphabetic","qwerty","azerty","qwertz","dvorak","colemak"],Je=[{value:"alphabetic",label:"Alphabetic",layout:[["a","b","c","d","e","f","g","h","i","j"],["k","l","m","n","o","p","q","r","s","t"],["u","v","w","x","y","z"]],wideKeysRow:2},{value:"qwerty",label:"QWERTY",layout:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]],wideKeysRow:2},{value:"azerty",label:"AZERTY",layout:[["a","z","e","r","t","y","u","i","o","p"],["q","s","d","f","g","h","j","k","l","m"],["z","x","c","v","b","n"]],wideKeysRow:2},{value:"qwertz",label:"QWERTZ",layout:[["q","w","e","r","t","z","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["y","x","c","v","b","n","m"]],wideKeysRow:2},{value:"dvorak",label:"Dvorak",layout:[["p","y","f","g","c","r","l"],["a","o","e","u","i","d","h","t","n","s"],["q","j","k","x","b","m","w","v","z"]],wideKeysRow:0},{value:"colemak",label:"Colemak",layout:[["q","w","f","p","g","j","l","u","y"],["a","r","s","t","d","h","n","e","i","o"],["z","x","c","v","b","k","m"]],wideKeysRow:2}],ie=()=>({currentStreak:0,bestStreak:0,totalGames:0,wonGames:0,distribution:new Array(c).fill(0)}),O=()=>({gameCount:0,guessTotals:new Array(c).fill(0),guessCounts:new Array(c).fill(0),fastestGame:0}),le=e=>e[e.length-1]-e[0];function $e(e){const t=r(w);let s=!1;t==="daily"&&(s=le(r(H))<r(R).fastestGame,Te(e)),Re(s)}function Te(e){const t=r(y).length;C.update(a=>{const n=e?a.currentStreak+1:0,o=[...a.distribution];return o[t-1]++,{currentStreak:n,bestStreak:n>a.bestStreak?n:a.bestStreak,totalGames:a.totalGames+1,wonGames:a.wonGames+(e?1:0),distribution:o}});const s=r(H),l=le(s);R.update(a=>{const n=a.guessTotals.map((o,i)=>i<t?o+(s[i+1]-s[i]):o);return{gameCount:a.gameCount+1,guessTotals:n,guessCounts:a.guessCounts.map((o,i)=>i<t?o+1:o),fastestGame:a.fastestGame===0||l<a.fastestGame?l:a.fastestGame}})}function Re(e){const t=r(w);se[t==="daily"?"lastDailyDetail":"lastRandomDetail"].set({mode:t,dayNumber:t==="daily"?r(V)+1:0,hardMode:r(de),answer:r(T),guesses:r(y),guessTimes:r(H),hash:t==="daily"?null:be(r(T)),fastest:e})}function Qe(e){se[r(w)==="daily"?"guessTimesDaily":"guessTimesRandom"].update(t=>(t[e]=new Date().getTime(),t))}const v=u("wp-answer",""),W=u("wp-answerRandom",""),G=u("wp-guesses",[]),A=u("wp-guessesRandom",[]),E=u("wp-lastPlayedWasHard",!1),L=u("wp-lastPlayedRandomWasHard",!1),ue=u("wp-hardMode",!1),Se=f(ue,e=>e),Ge=e=>{if(!r(Z)&&r(y).length>0)throw"Can't change that during a game!";ue.set(e)},w=g("daily"),de=f([w,E,L],([e,t,s])=>e==="daily"?t:s),ke=g(!1),We=g(!1),Ee=g(!1),Le=g(!1),J=g(ne()),T=f([w,v,W],([e,t,s])=>e==="daily"?t:s),y=f([w,G,A],([e,t,s])=>e==="daily"?t:s);function Ce(e){(r(w)==="daily"?G:A).update(e)}const $=u("wp-guessTimesDaily",[]),Q=u("wp-guessTimesRandom",[]),H=f([w,$,Q],([e,t,s])=>e==="daily"?t:s),Y=f(y,e=>e.length),ce=g(0),ge=f([T,y],([e,t])=>t.length>0&&t[t.length-1]===e),Z=f([Y,ge],([e,t])=>t||e===c),_e=f([J,Y,ce,Z],([e,t,s,l])=>l?new Set:re(e,t,s));function fe(){y.subscribe(e=>{J.update(t=>{const s=ne();return t.forEach((l,a)=>{if(a<e.length){const n=e[a];s[a]=[...n].map((o,i)=>ye(o,r(T),a,i,t))}else a>0&&a===e.length&&s[a].forEach((n,o)=>{n.letterBounds=pe(re(s,a,o))})}),s})})}const X=u("wp-version",0),Me=u("wp-locale",""),Ae=g(null),z=u("wp-highContrast",!1),j=u("wp-showAllHints",!1),q=u("wp-swapEnterBackspace",!1),B=u("wp-keyboardLayout","alphabetic"),N=u("wp-dyslexicFont",!1),I=u("wp-allowDancing",!0),K=u("wp-shareURL",!0),F=u("wp-shareTimes",!1),U=u("wp-preciseTimes",!1),V=u("wp-lastPlayedDaily",-1),C=u("wp-stats",ie()),R=u("wp-timeStats",O()),_=u("wp-lastDailyDetail",null),M=u("wp-lastRandomDetail",null),He=f([w,_,M],([e,t,s])=>e==="daily"?t:s),Pe=g(!1),D=e=>!e||typeof e!="string"&&!(e instanceof String)||e.length!==S,x=(e,t)=>{if(!Array.isArray(e)||e.length!==c)return t;for(let s=0;s<e.length;s++)e[s]>=0||(e[s]=0);return e};function xe(){[!0,!1].includes(r(z))||z.set(!1),[!0,!1].includes(r(j))||j.set(!1),[!0,!1].includes(r(q))||q.set(!1),[!0,!1].includes(r(N))||N.set(!1),[!0,!1].includes(r(I))||I.set(!0),[!0,!1].includes(r(K))||K.set(!0),[!0,!1].includes(r(F))||F.set(!1),[!0,!1].includes(r(U))||U.set(!1),ve.includes(r(B))||B.set("qwerty");const e=r(C);e.currentStreak>=0||(e.currentStreak=0),e.bestStreak>=0||(e.bestStreak=0),e.totalGames>=0||(e.totalGames=0),e.wonGames>=0||(e.wonGames=0),e.distribution=x(e.distribution,ie().distribution),C.set(e);const t=r(R);t.gameCount>=0||(t.gameCount=0),t.fastestGame>=0||(t.fastestGame=0),t.guessTotals=x(t.guessTotals,O().guessTotals),t.guessCounts=x(t.guessCounts,O().guessCounts),R.set(t),[["daily",r(_)],["random",r(M)]].forEach(([a,n])=>{if(n!==null)try{if(n.mode!==a)throw"wrong mode";if(!(n.dayNumber>=0))throw"invalid day number";if(![!0,!1].includes(n.hardMode))throw"invalid hard mode setting";if(D(n.answer))throw"invalid answer";if(!Array.isArray(n.guesses)||n.guesses.length<1||n.guesses.length>c)throw"invalid guesses array";if(n.guesses.some(D))throw"invalid guess(es)";if(!Array.isArray(n.guessTimes)||n.guessTimes.length!==n.guesses.length+1)throw"invalid guessTimes array";const o=new Date().getTime();for(let i=0;i<n.guessTimes.length;i++)if(!(n.guessTimes[i]>=o-1e12))throw"invalid guess time"}catch{a==="daily"?_.set(null):M.set(null)}}),D(r(v))&&v.set(""),D(r(W))&&W.set(""),[!0,!1].includes(r(E))||E.set(!1),[!0,!1].includes(r(L))||L.set(!1),[[G,$],[A,Q]].forEach(([a,n])=>{try{if(!Array.isArray(r(a))||r(a).length>c||r(a).some(D))throw"invalid guess(es)";if(!Array.isArray(r(n))||r(n).length!==r(a).length+1)throw"invalid guessTimes array";const o=new Date().getTime();for(let i=0;i<r(n).length;i++)if(!(r(n)[i]>=o-1e12))throw"invalid guess time"}catch{a.set([]),n.set([])}})}const Oe=1,ee=r(X);(!ee||ee<1)&&(V.set(-1),v.set(""),G.set([]));X.set(Oe);xe();fe();export{be as $,Ce as A,ge as B,Pe as C,$e as D,Je as E,B as F,q as G,m as H,C as I,R as J,De as K,K as L,F as M,de as N,He as O,G as P,V as Q,c as R,Ne as S,v as T,Ke as U,U as V,S as W,Ge as X,W as Y,Ue as Z,Fe as _,se as a,A as a0,Ie as a1,J as b,Y as c,N as d,Ee as e,ke as f,ce as g,z as h,Le as i,y as j,I as k,ne as l,w as m,We as n,Ae as o,Z as p,me as q,Qe as r,Me as s,pe as t,he as u,_e as v,T as w,qe as x,Be as y,Se as z};
